Class 18 05/06/2025

Reducing the file system:
=========================
1) Reducing the size of an LV is a bit complicated task, there are few things which you need to keep in mind before reducing the size of an LV. 
2) LV size cannot be reduced online, it requires a down time i.e. unmounting the file 
system. 
3) Organized the data before reducing the size of LV. 
4) Update the file system about the size. I.e. what its size will be after reduction. 
5) Finally reduce the size of the LV

If any of the above things are missed then it will be a mess, you may corrupt the file system and LV. 
Let’s start the steps carefully 
1) Check the size of the lv
	# using df –h command
2) Unmount the LV using umount command 
	# umount </mountpoint>
3) Organize the data in LV by using e2fsck  command 
	# e2fsck -f  </dev/vg/lv name> 
4) Update the file system by using resize2fs  command 
	# resize2fs </dev/vg/lv name>  300M (where 300M is the approximate total size of LV after reduction) 
5) Now reduce the size
	# lvreduce  -L  -200M </dev/vg/lv name>
6) Mount the LV and run the command df-h, to verify the change in the size of LV 
	# mount </mountpoint> ( if an entry is passed in /etc/fstab use this command) 
	# df –h </mountpoint>

Lab Tasks:
============
1) Configure /weblogic file system with 1Gb Volume
2) add 3gb volume to server and attach to VG
3) Extend file system with another 2GB with method 2
4) Expand file system with 1Gb with method1
5) Reduce file system 1Gb 